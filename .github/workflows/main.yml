name: GitHub Actions ç™¼é€ LINE ç¾¤çµ„è¨Šæ¯

on:
  schedule:
    - cron: '45 9 * * 1-5'  # æ¯é€±ä¸€è‡³é€±äº”å°ç£æ™‚é–“ 17:45
  workflow_dispatch:

jobs:
  push-to-line:
    runs-on: ubuntu-latest
    steps:
      - name: ç™¼é€è¨Šæ¯åˆ° LINE
        env:
          LINE_TOKEN: ${{ secrets.LINE_TOKEN }}
          GROUP_ID: ${{ secrets.GROUP_ID }}
        run: |
          python3 -c "
import requests
headers = {
    'Authorization': f'Bearer {os.environ['LINE_TOKEN']}',
    'Content-Type': 'application/json'
}
payload = {
    'to': os.environ['GROUP_ID'],
    'messages': [{'type': 'text', 'text': 'âœ… GitHub Actions å‚³é€çš„ä¸‹ç­æé†’è¨Šæ¯ ğŸ‰'}]
}
res = requests.post('https://api.line.me/v2/bot/message/push', headers=headers, json=payload)
print(res.status_code, res.text)
          "
